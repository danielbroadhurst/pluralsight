dbcc freeproccache;

alter database adventureworkslt2008 set parameterization simple;

select * from SalesLT.Product where ProductID > 10;

select * from PlanCache;

declare @s nvarchar(max);
declare @p nvarchar(max);
exec sp_get_query_template N'select * from SalesLT.Product where ProductID > 10;', @s output, @p output;
select @s, @p

select * from SalesLT . Product where ProductID > @0
@0 int


exec sp_create_plan_guide
@name =N'ParamProduct',
@module_or_batch=null,
@stmt = N'select * from SalesLT . Product where ProductID > @0',
@type = N'TEMPLATE',
@hints = N'OPTION(parameterization forced)',
@params = N'@0 int';














































































































































































